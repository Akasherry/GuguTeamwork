<!--pages/tree.wxml-->

<canvas-drag id="canvas-drag" bind:onSelectedChange='onSelectedChange' bind:onRefresh='onInitByTree' graph="{{graph}}" width="700" height="750"></canvas-drag>
<!-- <view class="btn" bindtap="onAddImage">添加图片</view>
<view class="btn" bindtap="onAddTest">添加测试图片</view>
<view class="btn" bindtap="onAddText">添加文字</view>
<view class="btn" bindtap="onExport">导出图片</view>
<view class="btn" bindtap="onChangeColor">改变文字颜色</view>
<view class="btn" bindtap="onChangeBgColor">改变背景颜色</view>
<view class="btn" bindtap="onChangeBgImage">改变背景照片</view>
<view class="btn" bindtap="onExportJSON">导出模板</view>
<view class="btn" bindtap="onImport">导入默认模板</view> -->
<text>目前选择的结点数据:   </text>
<text>{{text_selected_node}}</text>
<view>
  <view class="btn" bindtap="onClearCanvas">清空画布</view>
  <view class="btn" bindtap='onSetData'>连接服务器以设置data数据</view>
  <view class="btn" bindtap="onInitByTree">通过data数据生成树</view>
  <view class="btn" bindtap="onEditNode" hidden='{{!isSelected}}'>编辑任务信息</view>
  <view class="btn" bindtap="onAddNode" hidden='{{!isSelected}}'>添加一个测试结点</view>
  <view class="btn" bindtap="onDelNode" hidden='{{!isSelected}}'>删除/恢复结点</view>
  <view class="btn" bindtap="onDoDel">执行删除结点</view>
</view>

<!-- <view>
<switch checked bindchange="switchZoom"/>
<switch checked bindchange="switchDel"/>
<switch checked bindchange="switchAdd"/>
</view> -->
<view>
  <modal title="编辑任务信息" confirm-text="确认" hidden='{{!isEdit}}' cancel-text="取消"  bindconfirm="editConfirm" bindcancel="editCancel">
    <label>
      <view class="">
        <input class="input" bindinput="" placeholder="名称" data-type='Title' value="{{edit_info['Title']}}" bindblur='editChange'  />
        <input class="input" bindinput="" placeholder="内容" data-type='Content' value="{{edit_info['Content']}} " bindblur='editChange' />
        <input class="input" bindinput="" placeholder="截止日期" data-type='DeadLine' value="{{edit_info['DeadLine']}} " bindblur='editChange' />
      </view>
    </label>
  </modal>
</view>